<!-- getstarted.html -->
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>GetStarted</title>
    <link rel="stylesheet" href="styles.css">
</head>
<body>

<header>
    <a href="../homepage/home.html" style="text-decoration: none;">
        <h1>MoX</h1>
    </a>
    <a href="../signuppageUser/signup.html">
        <button class="signup-button">Sign Up</button>
    </a>
    <p class="p0">GENRE</p>
    <p class="p1">MOVIES</p>
    <p class="p2">TV SHOWS</p>
    <p class="p3">TOP TMDB</p>
    <a href="../getstartedpageRO/getstartedRo.html" style="text-decoration: none;">
        <button class="lang-button">en</button>
    </a>
</header>

<p class="p4">Find Movies, TV Shows and more...</p>
<div class="search-container">
    <input type="text" class="search-bar" id="searchInput" placeholder="Enter keywords...">
</div>

<p class="p5">Trending</p>
<button class="movies-buttonT">Movies</button>
<button class="tvShows-buttonT">TV Shows</button>

<div class="movie-containerT">
    <!-- Trending movies will be loaded here -->
</div>

<p class="p6">Latest</p>
<button class="movies-buttonL">Movies</button>
<button class="tvShows-buttonL">TV Shows</button>

<div class="movie-containerL">
    <!-- Latest movies will be loaded here -->
</div>

<p class="p7">Upcoming</p>

<div class="movie-containerU">
    <!-- Upcoming movies will be loaded here -->
</div>

<script>
    const apiKey = '30525dbccc50717fd5dafc1219c94c9c'; // Replace with your TMDB API key

    async function fetchMovies(endpoint) {
        const url = `https://api.themoviedb.org/3/${endpoint}?api_key=${apiKey}`;
        const response = await fetch(url);
        const data = await response.json();
        return data.results;
    }

    async function displayMovies(section, endpoint) {
        const movies = await fetchMovies(endpoint);
        const container = document.querySelector(section);
        container.innerHTML = ''; // Clear previous content

        movies.forEach(movie => {
            const movieCard = document.createElement('div');
            movieCard.className = 'movie-card';
            movieCard.innerHTML = `
                <a href="../aboutmoviepage/aboutmovie.html?movieId=${movie.id}" style="text-decoration: none;">
                    <img src="https://image.tmdb.org/t/p/w500${movie.poster_path}" alt="${movie.title || movie.name}">
                    <p class="movie-name">${movie.title || movie.name}</p>
                    <p class="movie-rating">Rating: ${movie.vote_average}</p>
                </a>
            `;
            container.appendChild(movieCard);
        });
    }

    // Fetch and display data when the page loads
    document.addEventListener('DOMContentLoaded', () => {
        displayMovies('.movie-containerT', 'trending/movie/week');
        displayMovies('.movie-containerL', 'movie/now_playing');
        displayMovies('.movie-containerU', 'movie/upcoming');
    });
</script>

</body>
</html>
